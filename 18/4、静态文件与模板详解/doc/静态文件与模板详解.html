<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/305825 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="653"/>

<div>
<span><div><div><ul><li><span style="line-height: 1.45;">模板路径配置</span></li></ul></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">TEMPLATES = [</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    {</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'BACKEND': 'django.template.backends.django.DjangoTemplates',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'DIRS': [os.path.join(BASE_DIR, 'templates')]       # 系统能调用模版</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        ,</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'APP_DIRS': True,</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'OPTIONS': {</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">            'context_processors': [</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.template.context_processors.debug',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.template.context_processors.request',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.contrib.auth.context_processors.auth',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.contrib.messages.context_processors.messages',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">            ],</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        },</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    },</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">]</span></div></div><div><div><br/></div><ul><li>使用构建html网页</li><ul><li>原始的：直接将html字符串硬编码到HttpResponse中。</li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">class Login(View):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    def get(self, request):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        return HttpResponse(&quot;&lt;h1&gt;hello world&lt;/h1&gt;&quot;)</span></div></div><div><br/></div><div><br/></div><ul><li>使用render进行渲染。</li></ul><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">class Login(View):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    def get(self, request):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        return render(request, &quot;login.html&quot;)</span></div></div><div><br/></div><ul><li>使用django.template.loader下的get_template方法进行渲染。</li></ul><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">class Login(View):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    def get(self, request):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        t = get_template(&quot;login.html&quot;)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        return HttpResponse(t.render())</span></div></div><div>ps： 进阶用法，这里只是介绍</div><div><br/></div><ul><li>模板引擎的选择</li><ul><li>Django自带了一个模板系统，叫做DTL(Django Template Language)。</li><li>一个比较流行的模板系统，叫做Jinja2。</li><li>配置：可以在settings文件中的TEMPLATES-&gt;BACKEND进行配置，默认使用的是django自带的DTL。配置DTL：'BACKEND': 'django.template.backends.django.DjangoTemplates',配置Jinja2：django.template.backends.jinja2.Jinja2</li></ul></ul><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">TEMPLATES = [</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    {</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">       </span><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;"> 'BACKEND': 'django.template.backends.django.DjangoTemplates',</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'DIRS': [os.path.join(BASE_DIR, 'templates')]</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        ,</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'APP_DIRS': True,</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        'OPTIONS': {</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">            'context_processors': [</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.template.context_processors.debug',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.template.context_processors.request',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.contrib.auth.context_processors.auth',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">                'django.contrib.messages.context_processors.messages',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">            ],</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        },</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    },</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">]</span></div></div><div><div><br/></div><ul><li>模板变量</li><ul><li>先将值传进去</li></ul></ul></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">message = u&quot;欢迎使用学员登录系统&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">return render(request, &quot;login.html&quot;,</span> <span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{&quot;message&quot;: message}</span></span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">)</span></div></div><div><br/></div><div>ps: 如果不想引用，可以使用locals(),locals()指获取当前能获取到的变量，形成一个字典 例： <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">return render(request, &quot;login.html&quot;,</span><span style="line-height: 1.45;"> </span><span style="color: rgb(255, 0, 0); line-height: 1.45;">locals()</span><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">)</span></div><div><div><br/></div><ul><li>在模版中使用</li><ul><li>语法：{{变量名}}</li><li>命名由字母和数字以及下划线组成，不能有空格和标点符号。</li><li>不要和python或django关键字重名。原因：如果data是一个字典，那么访问data.items将会访问data这个字典的key名为items的值，而不会访问字典的items方法。</li></ul></ul></div><div>例：</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;!DOCTYPE html&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;html lang=&quot;en&quot;&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;head&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;title&gt;Title&lt;/title&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/head&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;body&gt;</span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{{ message }}</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/body&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/html&gt;</span></div></div><div><br/></div><div><br/></div><div><div><br/></div><ul><li>过滤器</li><ul><li>作用：对变量进行过滤。在真正渲染出来之前，过滤器会根据功能处理好变量，然后得出结果后再替换掉原来的变量展示出来。</li><li>语法：{{greeting|lower}}</li><li>变量和过滤器中间使用管道符号”|”进行使用。</li><li>可以通过管道符号进行链式调用，比如实现一个功能，先把所有字符变成小写，把第一个字符转换成大写，代码如下：</li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">{{message|lower|capfirst}}</span></div></div><div><ul><li>过滤器可以使用参数，在过滤器名称后面使用冒号”:”再加上参数，比如要把一个字符串中所有的空格去掉，则可以使用cut过滤器，代码如下</li></ul><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">{{message|cut:&quot; &quot;}}</span></div></div><div>ps: 使用参数的时候，冒号和参数之间不能有任何空格，一定要紧挨着。</div><div><br/></div><ul><li>R和time过滤器格式</li></ul><div>获取当前时间</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import datetime</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">datetime.datetime.now()</span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{{ now|date:&quot;Y-m-d H:i:s&quot; }}</span></div></div><div><br/></div><ul><li>模板标签</li><ul><li><span style="line-height: 1.45;">标签语法：{% 标签名称 %}{% 结束标签名称 %}例： {%tag%}{%endtag%}</span></li><li>if/elif/else：可以使用and/or/in/not/==/!=/&lt;=/&gt;=，来进行判断。ifequal/ifnotequal</li></ul></ul><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% if now %}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">当前时间： {{ now|date:&quot;Y-m-d H:i:s&quot; }}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% endif %}</span></div></div><div><div><br/></div><ul><li>for…in…：跟python中的for…in…是一样的用法</li></ul></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% for m in modules %}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{{ m }}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% end %}</span></div></div><div><ul><li>forloop.counter：当前迭代的次数，下标从1开始。</li><li>forloop.counter0：当前迭代的次数，下标从0开始。</li><li>forloop.first：返回bool类型，如果是第一次迭代，返回true,否则返回false。</li><li>forloop.last：返回bool类型，如果是最后一次迭代，返回True，否则返回False。</li></ul></div><div><br/></div><div><ul><li>模板继承</li><li><span style="line-height: 1.45;">模板继承使用extends标签实现。通过使用block来给子模板开放接口。</span></li><li><span style="line-height: 1.45;">extends必须是模板中的第一个出现的标签。</span></li><li><span style="line-height: 1.45;">子模板中的所有内容，必须出现在父模板定义好的block中，否则django将不会渲染。</span></li><li><span style="line-height: 1.45;">如果出现重复代码，就应该考虑使用模板。尽可能多的定义block，方便子模板实现更细的需求。</span></li></ul><div><br/></div><div>base.html</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;!DOCTYPE html&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;html lang=&quot;en&quot;&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;head&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;title&gt;Title&lt;/title&gt;</span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">    {% block js %}</span></span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">    {% endblock js %}</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/head&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;body&gt;</span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{% block content %}</span></span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{% endblock content %}</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/body&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/html&gt;</span></div></div><div><br/></div><div>login.html</div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{% extends &quot;base.html&quot; %}</span></span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{% block content %}</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    这是一个登录页面</span></div><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">{% endblock %}</span></span></div></div><div><div><br/></div><div><br/></div><ul><li>include另一个模板</li></ul><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% include &quot;menu.html&quot; %}</span></div></div><div><br/></div><div><br/></div><ul><li>注释标签</li><ul><li><span style="line-height: 1.45;">{#被注释的内容#}：将中间的内容注释掉。只能单行注释。</span></li><li><span style="line-height: 1.45;">{% comment %}被注释的内容{% endcomment %}：可以多行注释。</span></li></ul></ul><div><br/></div><ul><li>自定义过滤器</li><ul><li><span style="line-height: 1.45;">DTL模板语言生来只是为了方便的展示信息，所以与编程语言相比显得有点薄弱，有时候不能满足我们的需求。因此django提供了一个接口，让开发者能自定义标签和过滤器。</span></li><li>首先，你需要添加一个templatetags的文件夹， 自定义过滤器必须处在已经安装了的app中的一个名叫”templatetags”的包（文件夹）中。因此可以有两种选择：</li><ul><li>一种是放在其他已经安装了的app中。这种方式简单，但不方便管理。</li><li>单独创建一个app，用来存放所有的自己定义的过滤器。</li></ul></ul></ul><div><br/></div></div><div>比如，我们现在有一个account的app</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;">account</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├── admin.py</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├── apps.py</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├── __init__.py</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├── __init__.pyc</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├── migrations</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">│   └── __init__.py</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├── models.py</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">├──</span> <span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">templatetags</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">│   ├── custom_tags.py</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">│   └── __init__.py</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div>需要使用自定义过滤器，必须把对应的app加载，在settings中添加该app，假设我需要使用account下的自定义标签</div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">INSTALLED_APPS = [</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    'django.contrib.admin',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    'django.contrib.auth',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    'django.contrib.contenttypes',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    'django.contrib.sessions',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    'django.contrib.messages',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    'django.contrib.staticfiles',</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); color: rgb(255, 0, 0); font-family: Monaco; font-size: 9pt;">'account'</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">]</span></div></div><div><div><br/></div><div><br/></div><div><ul><li>添加对应的自定义标签</li></ul><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">from django import template</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">register = template.Library()</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">@register.filter</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">def mycut(value, args):</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    return value.replace(args, &quot;&quot;).lower()</span></div></div><div>ps: <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">register = template.Library()   <span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">register的命名是固定的，不能修改</span></span></div><div><br/></div><div><ul><li>在模版中使用</li></ul><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% extends &quot;base.html&quot; %}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% load custom_tags %}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% block content %}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{{ name|mycut:&quot; &quot; }}</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">{% endblock %}</span></div></div><div><br/></div><div><br/></div><div><span style="line-height: 1.45;">ps: 创建完templatetags模块后，你需要重启服务器。</span></div><div><span style="line-height: 1.45;">ps: 在模板中加载的是过滤器所在的文件名，而不是app的名称。</span></div><div><span style="line-height: 1.45;">ps: pycharm创建文件夹时，不会自动上传</span></div><div><br/></div><div><br/></div><ul><li>模板加载静态文件</li><ul><li>在项目添加一个静态文件夹，并添加需要添加的静态文件（一般名叫static）</li><li>配置静态文件settings</li></ul></ul><div style="font-size: 9pt;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 9pt;"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">STATICFILES_DIRS = [</span></div></div><div style="font-size: 12px;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">    os.path.join(BASE_DIR, &quot;static&quot;)</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">]</span></div></div><div>   ps: 使用pycharm 创建完静态文件后，需要手动上传一次</div></div><div><div><br/></div><ul><li>在需要使用的html模版头部中添加导入</li></ul><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">{% load static %}</span></div></div><div><div><br/></div><ul><li>使用</li></ul></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; line-height: 1.45;">&lt;script src=&quot;{% static '/js/jquery.min.js' %}&quot;&gt;&lt;/script&gt;</span></div></div><div><div><br/></div><ul><li>ps： 引入的路径是一个相对路径</li></ul></div><div><br/></div><div><br/></div><div>作业：</div><ul><li>添加对应静态资源</li><li>创建连个页面，登录与主页</li><ul><li>使用静态文件标签导入数据</li><ul><li>需要使用相对路径</li></ul><li>使用模版继承定义公共部分数据（共享出登录页面与主页公共部分）</li><ul><li><span style="line-height: 1.45;">定义一个block,需要在后面引入js与css</span></li><li><span style="line-height: 1.45;">定义一个block,允许引入主体内容 </span></li></ul><li>顶部菜单栏使用include引入</li><li>登录页面显示登录成功，并展示用户名（数据可以临时定义）</li><li>在主页中展示当前的时间并使用时间格式化（使用时间过滤器）</li></ul><li>添加一个自定义标签，在登录时，将去除用户名首字母大写，并替将中间的空格替换成&quot;.&quot;</li><li>在后面定义博文字典数据，使用{% for %}展示至页面</li><li>添加一个界面，展示对应的博文数据，<span style="line-height: 1.45;">在url中通过传递相应的ID，获取对应博文</span></li></ul><div><br/></div></div></span>
</div></body></html> 